\documentclass{bmstu}

\usepackage{placeins}

\begin{document}
  \chapter*{Система разграничения доступа к исходному коду
  лабораторных работ}

  \section*{Глоссарий}

  \begin{itemize}
    \item[] \textbf{Валидация данных}~--- проверка данных на
      соответствие заданным условиям и ограничениям.
    \item[] \textbf{Токен авторизации}~--- зашифрованная
      последовательность символов, которая позволяет точно
      идентифицировать субъект в системе и определить уровень его
      привилегий.
    \item[] \textbf{Рабочая копия репозитория}~--- копия лабораторной работы, расположенная на 
    локальном устройстве \textbf{Студента} или \textbf{Преподавателя}. 
  \end{itemize}

  \section*{Принятые сокращения}

  \begin{itemize}
    \item[] \textbf{ПО}~--- программное обеспечение.
%    \item[] \textbf{СПО}~--- специальное программное обеспечение.
  \end{itemize}

  \chapter{Введение}

  Данное техническое задание составляется для проектирования информационной системы
  <<Система разграничения доступа к исходному коду лабораторных
  работ>>.
  Техническое задание выполняется в соответствии со стандартом ГОСТ
  19.201–78 <<ЕСПД. Техническое задание. Требования к содержанию и
  оформлению>>.

  \section{Краткое описание предметной области}

  В настоящее время в рамках лабораторных работ по курсу <<Основы
  искусственного интеллекта>> студентам кафедры ИУ7 предлагают
  разработать относительно небольшие программы, так как в противном
  случае у них не будет достаточно времени на их реализацию.
  Для того, чтобы в результате выполнения лабораторных работ студенты
  реализовывали более сложные программы за то же время, могут быть
  использованы технологии командной разработки.
  
  Например, преподаватель может поставить студентам задачу по автоматизации
  выявления ошибок в отчётах по лабораторным работам. В таком случае
  \begin{enumerate}[label*=\arabic*)]
    \item преподаватель определяет математические модели для распознавания
    ошибок в отчётах;
    \item преподаватель выдаёт студентам индивидуальные задания по автоматизации
    поиска определённого класса ошибок в отчётах;
    \item студенты самостоятельно выбирают и обосновывают стек алгоритмов для
    распознавания заданного класса ошибок в отчётах;
    \item студенты реализуют соответствующие алгоритмы самостоятельно без
    применения существующих решений в виде библиотек и фреймворков;
    \item преподаватель определяет, какие данные студенты должны использовать
    для обучения моделей.
  \end{enumerate}

  В настоящее время в качестве программных инструментов для выдачи и
  приёма лабораторных работ по курсу <<Основы искусственного
  интеллекта>> применяют web-портал GitLab, основанный на системе
  контроля версий Git.
  Однако при выдаче и приёме групповых лабораторных работ возникает
  проблема разграничения доступа к исходному коду на более низких
  уровнях, чем уровень репозиториев.

  Данное техническое задание определяет требования к разработке
  системы разграничения доступа студентов кафедры ИУ7 к исходному коду
  групповых лабораторных работ по курсу <<Основы искусственного
  интеллекта>>.

  \section{Существующие аналоги}

  В настоящее время для командной разработки ПО применяют web-порталы
  управления репозиториями, основанные на системе контроля версий Git:
  GitHub, GitLab, Gitea и т.д.
  Кроме того, существует web-портал управления репозиториями Darcs
  Hub, основанный на системе контроля версий Darcs.
  Данные web-порталы предоставляют разработчикам ПО следующие
  инструменты:
  \begin{itemize}[label=---]
    \item систему контроля версий разрабатываемого ПО;
    \item систему разграничения доступа разработчиков ПО к его
      исходному коду (на уровне репозиториев);
    \item систему документирования исходного кода разрабатываемого ПО;
    \item систему отслеживания ошибок в разрабатываемом ПО.
  \end{itemize}

  Основным преимуществом разрабатываемой системы перед аналогами
  должна являться возможность разграничения прав доступа к исходному
  коду на более низком уровне, чем уровень репозиториев.

  \section{Описание системы}

  Разрабатываемая система должна предоставлять возможности выдачи и
  проверки групповых лабораторных работ с разграничением уровня
  доступа между студентами на усмотрение преподавателя.
  Каждый пользователь системы должен иметь одну из следующих ролей:
  \begin{itemize}[label=---]
    \item \textbf{Администратор}~--- пользователь, осуществляющий
      регистрацию, изменение и удаление учётных записей преподавателей
      и студентов;
    \item \textbf{Преподаватель}~--- пользователь, осуществляющий
      создание, изменение, удаление, выдачу и приём лабораторных
      работ;
    \item \textbf{Студент}~--- пользователь, осуществляющий реализацию
      выданной ему части лабораторной работы.
  \end{itemize}

  Для обеспечения разграничения доступа \textbf{Студентов} исходный код
  лабораторной работы может быть представлен в виде дерева
  (рисунок~\ref{fig:source-code-tree}).
  Помимо исходного кода, узлы такого дерева могут дополнительно содержать тесты
  и отчёт.
  Отчёт, в свою очередь, представляет собой PDF-файл с описанием выполненной
  работы, подкреплённым изображениями схем, диаграмм, результатов выполнения
  разработанного обеспечения и так далее.
  Подразумевается, что контроль за качеством выполненной работы (включая
  сформированный отчёт) лежит на \textbf{Преподавателе}, проверяющем лабораторную работу,
  при этом ответственность за корректное выполнение разработанного программного
  обеспечения несут сами \textbf{Студенты} посредством добавления
  соответствующих тестов в репозиторий.

  \begin{figure}[ht]
    \centering

    \begin{tikzpicture}
      \node{Лабораторная работа}
        child {
          node{Сервис 1}
            child {
              node{Компонент 1~~~~~}
                child {
                  node{Класс 1}
                    child {
                      node{Метод 1}
                    }
                    child {
                      node{\ldots}
                    }
                    child {
                      node{Метод N}
                    }
                }
                child {
                  node{\ldots}
                }
                child {
                  node{Класс N}
                }
            }
            child {
              node{\ldots}
            }
            child {
              node{~~~~~Компонент N}
            }
        }
        child {
          node{\ldots}
        }
        child {
          node{Сервис N}
        }
      ;
    \end{tikzpicture}

    \caption{Представление исходного кода в виде дерева}
    \label{fig:source-code-tree}
  \end{figure}

  \FloatBarrier

  Каждому узлу дерева \textbf{Преподаватель} назначает владельца из числа
  \textbf{Студентов}.
  Владелец узла должен иметь возможность:
  \begin{itemize}[label=---]
    \item просматривать и изменять соответствующий исходный код
      лабораторной работы;
    \item создавать дочерние узлы;
    \item предоставлять другим разработчикам возможность просматривать
      ассоциированный с узлом исходный код.
  \end{itemize}

  \section{Основания для разработки}

  Разработка ведётся в рамках выполнения лабораторных работ по курсу
  <<Методология программной инженерии>> на кафедре <<Программное
  обеспечение ЭВМ и информационные технологии>> факультета
  <<Информатика и системы управления>> МГТУ~им.~Н.~Э.~Баумана.

  \section{Назначение разработки}

  Назначение разрабатываемой системы~--- обеспечить возможность выдачи и приёма
  групповых лабораторных работ по курсу <<Основы искусственного интеллекта>> с
  разграничением доступа \textbf{Студентов} к исходному коду на низких уровнях.

  Целевая аудитория разрабатываемой системы~--- \textbf{Студенты} и
  \textbf{Преподаватели} кафедры ИУ7 МГТУ~им.~Н.~Э.~Баумана, выполняющие и
  принимающие лабораторные работы по курсу <<Основы искусственного интеллекта>>
  соответственно.

  \textbf{Студенты} должны реализовать лабораторную в соответствии с правилами,
  выданными \textbf{Преподавателем}, используя разрабатываемую систему, и
  осуществить акт сдачи.
  \textbf{Преподаватель} должен принять сдаваемую лабораторную работу
  средствами разрабатываемой системы.
  Выдача и приём лабораторных работ производится очно во время соответствующих занятий.

  \section{Требования к системе}

  Разрабатываемая система должна обеспечивать:
  \begin{itemize}[label=---]
    \item хранение условий и исходного кода лабораторных работ на
      удалённых серверах;
    \item возможность создания локальных рабочих копий исходного кода
      лабораторных работ, хранящегося на удалённых серверах;
    \item возможность синхронизации исходного кода лабораторных работ,
      хранящегося на удалённых серверах (размещённых во внутренней сети
      МГТУ~им.~Н.~Э.~Баумана), с его локальными рабочими копиями.
  \end{itemize}

  \subsection{Требования к функциональным характеристикам}

  Разрабатываемая система должна обеспечивать:
  \begin{itemize}[label=---]
    \item хранение не менее 1000 лабораторных работ, суммарный
      информационный объём исходного кода которых не превышает 1 ТБ;
    \item время отклика на запрос создания локальной рабочей копии лабораторной работы,
      не превышающее 5 секунд;
    \item время отклика на запрос синхронизации исходного кода лабораторной работы с его локальной
      рабочей копией, не превышающее 5 секунд.
  \end{itemize}

  \subsection{Требования по реализации}

  Разрабатываемая система должна обеспечивать:
  \begin{itemize}[label=---]
    \item возможность независимого изменения \textbf{Cтудентами} их узлов
      исходного кода лабораторной работы;
    \item web-интерфейс, позволяющий \textbf{Преподавателю} осуществлять выдачу
      лабораторных работ;
    \item интерфейс командной строки, позволяющий \textbf{Cтудентам}
      осуществлять создание локальных рабочих копий исходного кода
      лабораторных работ;
    \item синхронизацию исходного кода лабораторной работы с его локальной
      рабочей копией по алгоритму rsync;
    \item взаимодействие клиентов с удалёнными серверами по протоколу
      HTTP в соответствии с принципами REST;
    \item деградацию функциональности или выдачу сообщения об ошибке в
      случае недоступности удалённых серверов;
    \item авторизацию пользователей как через web-интерфейс, так и
      через интерфейс командной строки;
    \item валидацию входных данных как на клиенте, так и на удалённом
      сервере.
  \end{itemize}
  
  Валидация входных данных заключается в определении объёма и формата получаемых файлов.
  Процесс валидации распространяется только на файлы с реализацией лабораторной работы.
  Считается, что валидация прошла успешно, если файл с исходным кодом имеет формат \textit{.py}, его содержание соответствует стандарту PEP-263 и его объём не превышает 1Гб.

  \subsection{Функциональные требования с точки зрения пользователя}

  Система должна обеспечивать следующую функциональность.
  \begin{enumerate}[label*=\arabic*.]
    \item Регистрация пользователей с валидацией указанных
      сведений:
      \begin{itemize}[label=---]
        \item логин: строка из 5-32 символов base64, уникальный в системе, назначается администратором;
        \item пароль: строка из 8-64 символов base64, соответствует стандарту NIST SP 800-63, назначается администратором;
        \item адрес электронной почты: уникальный в системе, соответствует стандарту RFC 5322;
        \item роль в системе: студент, преподаватель или администратор.
      \end{itemize}
    \item Авторизация пользователей по логину и паролю.
    \item Выделение для пользователей следующих ролей в каждой из лабораторных работ:
      \textbf{Преподаватель} и \textbf{Студент}.
      Роль \textbf{Администратора} не привязана к какой-либо лабораторной работе.
    \item Система должна предоставлять \textbf{Студенту} следующие функции:
    \begin{itemize}[label=---]
    	\item запрос списка участников определённой лабораторной работы;
    	\item запрос доступа к определённым частям доступных ему лабораторных работ;
    	\item просмотр и добавление изменений в лабораторных работах, к которым
    	  \textbf{Студент} имеет доступ.
    \end{itemize}
    \item Система должна предоставлять \textbf{Преподавателю} следующие
      функции:
    \begin{itemize}[label=---]
    	\item создание лабораторной работы;
    	\item удаление лабораторной работы;
    	\item просмотр и добавление изменений в созданных лабораторных работах;
    	\item запрос списка участников определённой лабораторной работы;
    	\item управление правами доступа к исходному коду созданных лабораторных работ
    	  на языке Python в соответствии с уровнями, представленными на
    	  рисунке~\ref{fig:source-code-tree}, в остальных случаях доступ должен
    	  регулироваться на уровне целых файлов.
    \end{itemize}
    \item Система должна предоставлять \textbf{Администратору} следующие
      функции:
    \begin{itemize}[label=---]
    	\item регистрацию и изменение учётных записей преподавателей и студентов;
    	\item удаление пользователей по их запросу.
    \end{itemize}
  \end{enumerate}

  \subsection{Стратегия развития}

  Система в будущем будет обеспечивать следующую функциональность.
  \begin{enumerate}[label*=\arabic*.]
    \item Работа в соответствии с уровнями, представленными на
      рисунке~\ref{fig:source-code-tree}, с кодами на всех языках
      программирования, задействованных в учебной программе кафедры
      ИУ7, такими как Bash, C, C++, JavaScript и т.д.
    \item Возможность запуска тестов в автоматическом режиме.
    \item Возможность обсуждения изменений, предлагаемых \textbf{Студентами}.
    \item Возможность добавления комментариев и задач (issues),
      связанных с существующим исходным кодом лабораторной работы;
    \item Взаимодействие клиентов с удалёнными серверами по протоколу
    HTTPS с использованием SSL-сертификатов МГТУ.
  \end{enumerate}

  Для решения поставленных задач будут использоваться технологии лексических
  и синтаксических анализаторов для различных ЯП и создания виртуального окружения
  по заданным параметрам для тестирования. 

  \subsection{Входные параметры}

  Для неавторизованного пользователя:
  \begin{itemize}[label=---]
    \item идентификатор (уникальный в системе);
    \item пароль (строка из 10-32 символов base64).
  \end{itemize}

  Для авторизованного пользователя:
  \begin{itemize}[label=---]
    \item идентификатор (уникальный в системе);
    \item токен авторизации (строка, соответствующая стандарту RFC 7519).
  \end{itemize}

  Для лабораторной работы:
  \begin{itemize}[label=---]
    \item идентификатор (уникальный в системе);
    \item название (строка из символов латинского алфавита, арабских
      цифр и знака <<->>, максимальная длина~--- 64 символа);
    \item структура каталогов лабораторной работы (максимальный
      объём~--- 1 ТБ).
  \end{itemize}

  \subsection{Выходные параметры}

  Для неавторизованного пользователя~--- токен авторизации.

  Для авторизованного пользователя:
  \begin{itemize}[label=---]
    \item список доступных пользователю лабораторных работ с их
      названиями, условиями и выполняющими \textbf{Студентами};
    \item дерево доступных пользователю узлов исходного кода каждой
      лабораторной работы.
  \end{itemize}

  \subsection{Требования к составу и параметрам технических средств}
  
  \subsubsection{Удалённые серверы}
  
  Все удалённые серверы должны находиться во внутренней сети 
  \mbox{МГТУ~им.~Н.~Э.~Баумана} и обладать следующими техническими характеристиками:
  \begin{itemize}[label=---]
  	\item центральный процессор:
  	\begin{itemize}[label=---]
  		\item архитектура набора команд~--- x86-64;
  		\item минимальное число физических ядер~--- 4;
  		\item минимальная тактовая частота~--- 2 ГГц;
  	\end{itemize}
  	\item оперативная память:
  	\begin{itemize}[label=---]
  		\item стандарт~--- DDR4;
  		\item минимальный доступный объём~--- 4 ГБ;
  	\end{itemize}
  	\item жёсткий диск (твердотельный накопитель):
  	\begin{itemize}[label=---]
  		\item интерфейс~--- SATA (NVMe);
  		\item минимальный доступный объём~--- 1 ТБ.
  	\end{itemize}
  \end{itemize}

  \subsubsection{Рабочая машина пользователя}

  Рабочая машина пользователя должна иметь доступ во внутреннюю сеть
  МГТУ~им.~Н.~Э.~Баумана и обладать следующими техническими
  характеристиками:
  \begin{itemize}[label=---]
    \item центральный процессор:
      \begin{itemize}[label=---]
        \item архитектура набора команд~--- x86-64;
        \item минимальное число физических ядер~--- 1;
        \item минимальная тактовая частота~--- 0.5 ГГц;
      \end{itemize}
    \item оперативная память:
      \begin{itemize}[label=---]
        \item стандарт~--- DDR4;
        \item минимальный доступный объём~--- 1 ГБ;
      \end{itemize}
    \item жёсткий диск (твердотельный накопитель):
      \begin{itemize}[label=---]
        \item интерфейс~--- SATA (NVMe);
        \item минимальный доступный объём~--- 64 ГБ.
      \end{itemize}
  \end{itemize}

  \subsection{Требования к информационной и программной совместимости}

  \subsubsection{Удалённые серверы}

  Все удалённые серверы должны управляться операционной системой на основе
  ядра Linux версии не ниже 5.19.17 (и ниже 7) и поддерживать
  выполнение контейнеризованных приложений в среде Docker версии не
  ниже 28.0.1 (и ниже 29).
  Кроме того, на каждом удалённом сервере должен быть установлен программный
  инструмент управления контейнеризованными приложениями Docker
  Compose версии не ниже 2.33.1 (и ниже 3).

  \subsubsection{Рабочая машина пользователя}

  Рабочая машина пользователя должна управляться операционной системой
  на основе ядра Linux версии не ниже 5.19.17 (и ниже 7) или Windows
  11 версии не ниже 10.0.26100.3194 (и ниже 11).

  \subsection{Требования к надёжности}

  Система должна работать в соответствии с данным техническим заданием
  независимо от поведения пользователей и связности сети, в которой
  они работают.
  \textbf{Студенты} должны иметь возможность изолированно работать над своими
  частями лабораторных работ, расположенными на локальных машинах.
  
  Необходимо наличие как минимум одного основного удалённого сервера. 
  Также необходимо использовать как минимум один <<зеркалируемый сервер>>, 
  который будет держать нагрузку в случае сбоя до тех пор, пока основной 
  сервер не восстановится. Между основным и <<зеркалируемым>> серверами должна 
  поддерживаться асинхронная репликация с одним ведущим узлом. 
  
  Необходимо использовать минимум один удалённый сервер бэкапа для восстановления
  данных в основных и <<зеркалируемых>> удалённых серверах в случае их сбоя.
  Резервное копирование должно производиться ежедневно. Данная частота позволит
  минимизировать риск потери данных в случае сбоев при минимальных затратах на выполнение
  одной операции резервного копирования. Резервному копированию должны подлежать как
  данные самих репозиториев, так и права доступа для \textbf{Студентов}.
  
  Для обеспечения гарантий по физической защите все удалённые сервера вместе с соответствующими файловыми хранилищами должны располагаться в МГТУ~им.~Н.~Э.~Баумана.

  \section{Требования к документации}

  Исполнитель должен подготовить и передать заказчику следующие
  документы:
  \begin{itemize}[label=---]
    \item руководство по развёртыванию системы;
    \item руководство по администрированию системы;
    \item руководство по эксплуатации системы \textbf{Студентами} и
      \textbf{Преподавателями}.
  \end{itemize}

  \section{Топология системы}

  \includeimage
    {topology}
    {f}
    {ht}
    {\textwidth}
    {Топология системы}

  \FloatBarrier
  
%  \section{Сценарии функционирования системы}
%
%  Все функции системы доступны только зарегистрированным пользователям,
%  все взаимодействие с системой начинается с регистрации и дальнейшей авторизации
%  пользователя. 
%
%  \includeimage
%    {usecase}
%    {f}
%    {ht}
%    {0.9 \textwidth}
%    {Диаграмма прецедентов}
%
%  \FloatBarrier

\end{document}
